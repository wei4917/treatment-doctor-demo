{"version":3,"sources":["webpack:///src/components/case/TreatmentRecord.vue","webpack:///./src/components/case/TreatmentRecord.vue?2539","webpack:///./src/components/case/TreatmentRecord.vue"],"names":["TreatmentRecord","data","paginationData","page","pageSize","size","treatmentRecordListData","treatmentStatData","actualDays","shouldDays","missingDys","dialogVisible","created","caseId","this","$route","params","initRecordList","methods","_this","$db","treatmentRecordList","map","record","tm","treatment","tmId","cpt","assign_default","begin","Date","parse","beginInterval","end","endInterval","cur","treatTime","treatTimeOk","shouldBeginInterval","shouldEndInterval","duration","durationOK","shouldDuration","statistics","changePage","val","case_TreatmentRecord","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","type","on","click","back","staticStyle","width","prop","label","scopedSlots","_u","key","fn","scope","class","row","_s","title","visible","update:visible","$event","font-weight","slot","current-page","hide-on-single-page","page-size","layout","total","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.45fe14ccc4f5849659b1.js","sourcesContent":["<template>\n  <div>\n    <div class=\"containerBox\">\n      <!-- 页面标题 -->\n      <div class=\"pageTopic\">\n        <span class=\"topicName\">治疗记录</span>\n        <span>\n          <el-button type=\"primary\" @click=\"statistics\">统计</el-button>\n          <el-button @click=\"back\">返回</el-button>\n        </span>\n      </div>\n      <!-- 商品列表 -->\n      <div class=\"list\">\n        <el-table :data=\"treatmentRecordListData\" style=\"width: 100%\" >\n          <el-table-column prop=\"treatDate\" label=\"治疗日期\"></el-table-column>\n          <el-table-column prop=\"treatTime\" label=\"治疗时间\">\n            <template slot-scope=\"scope\">\n<!--              <el-tooltip effect=\"light\" :content=\"scope.row.shouldBeginInterval+'-'+scope.row.shouldEndInterval\" placement=\"top-start\">\n                <span :class=\"scope.row.treatTimeOk ? 'success' : 'danger'\">{{scope.row.treatTime}}</span>\n              </el-tooltip>-->\n              <span :class=\"scope.row.treatTimeOk ? 'success' : 'danger'\">{{scope.row.treatTime}}</span> ({{scope.row.shouldBeginInterval+'-'+scope.row.shouldEndInterval}})\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"duration\" label=\"治疗时长(min)\">\n            <template slot-scope=\"scope\">\n<!--              <el-tooltip effect=\"light\" :content=\"scope.row.shouldDuration\" placement=\"top-start\">-->\n                <span :class=\"scope.row.durationOK ? 'success' : 'danger'\">{{scope.row.duration}}</span> ({{ scope.row.shouldDuration }})\n<!--              </el-tooltip>-->\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"anode\" label=\"阳极区\"></el-table-column>\n          <el-table-column prop=\"cathode\" label=\"阴极区\"></el-table-column>\n          <el-table-column prop=\"current\" label=\"电流(μA)\"></el-table-column>\n        </el-table>\n      </div>\n\n      <el-dialog title=\"统计信息\" :visible.sync=\"dialogVisible\" width=\"30%\">\n        <span style=\"font-weight: bold\">理论应治疗天数2天，实际治疗天数<span class=\"danger\">1</span>天<br/>缺失日期：<span class=\"danger\">2023-8-17</span></span>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"dialogVisible = false\">关 闭</el-button>\n        </span>\n      </el-dialog>\n\n      <!-- 分页 -->\n      <div class=\"paging\">\n        <el-pagination @current-change=\"changePage\"\n                       :current-page=\"paginationData.page\"\n                       :hide-on-single-page=\"paginationData.size/paginationData.pageSize <= 1\"\n                       :page-size=\"paginationData.pageSize\"\n                       layout=\"total, prev, pager, next\"\n                       :total=\"paginationData.size\">\n        </el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport AppServerInf from \"@/common/serverinf\"\n\nexport default {\n  data() {\n    return {\n      paginationData: {\n        page: 1,\n        pageSize: 10,\n        size: 0\n      },\n\n      treatmentRecordListData: [],\n      treatmentStatData: {\n        actualDays: 0,\n        shouldDays: 0,\n        missingDys: ''\n      },\n      dialogVisible: false,\n    }\n  },\n  created() {\n    const caseId = this.$route.params.caseId\n    this.initRecordList(caseId)\n  },\n  methods: {\n    initRecordList(caseId) {\n      this.treatmentRecordListData = this.$db.treatmentRecordList(caseId).map((record)=>{\n        let tm = this.$db.treatment(record.tmId)\n        let cpt = Object.assign({}, record)\n        //\n        let begin = Date.parse('1970-1-1 ' + tm.beginInterval)\n        let end = Date.parse('1970-1-1 ' + tm.endInterval)\n        let cur = Date.parse('1970-1-1 ' + record.treatTime)\n\n        if(begin <= cur && cur <= end) {\n          cpt.treatTimeOk = true\n        }\n        cpt.shouldBeginInterval = tm.beginInterval\n        cpt.shouldEndInterval = tm.endInterval\n        //\n        if(record.duration == tm.duration) {\n          cpt.durationOK = true\n        }\n        cpt.shouldDuration = tm.duration\n        return cpt\n      })\n    },\n    statistics() {\n      this.dialogVisible = true\n    },\n    changePage(val) {\n      this.initRecordList(val)\n    }\n  }\n}\n</script>\n<style scoped>\n.success {\n  color: #67C23A;\n}\n\n.danger {\n  color: #F56C6C;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/case/TreatmentRecord.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"containerBox\"},[_c('div',{staticClass:\"pageTopic\"},[_c('span',{staticClass:\"topicName\"},[_vm._v(\"治疗记录\")]),_vm._v(\" \"),_c('span',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.statistics}},[_vm._v(\"统计\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.treatmentRecordListData}},[_c('el-table-column',{attrs:{\"prop\":\"treatDate\",\"label\":\"治疗日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"treatTime\",\"label\":\"治疗时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.treatTimeOk ? 'success' : 'danger'},[_vm._v(_vm._s(scope.row.treatTime))]),_vm._v(\" (\"+_vm._s(scope.row.shouldBeginInterval+'-'+scope.row.shouldEndInterval)+\")\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"duration\",\"label\":\"治疗时长(min)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.durationOK ? 'success' : 'danger'},[_vm._v(_vm._s(scope.row.duration))]),_vm._v(\" (\"+_vm._s(scope.row.shouldDuration)+\")\\n\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"anode\",\"label\":\"阳极区\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cathode\",\"label\":\"阴极区\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"current\",\"label\":\"电流(μA)\"}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"统计信息\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"理论应治疗天数2天，实际治疗天数\"),_c('span',{staticClass:\"danger\"},[_vm._v(\"1\")]),_vm._v(\"天\"),_c('br'),_vm._v(\"缺失日期：\"),_c('span',{staticClass:\"danger\"},[_vm._v(\"2023-8-17\")])]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"关 闭\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.paginationData.page,\"hide-on-single-page\":_vm.paginationData.size/_vm.paginationData.pageSize <= 1,\"page-size\":_vm.paginationData.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.paginationData.size},on:{\"current-change\":_vm.changePage}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba48ca60\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/case/TreatmentRecord.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba48ca60\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TreatmentRecord.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TreatmentRecord.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TreatmentRecord.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba48ca60\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TreatmentRecord.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ba48ca60\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/case/TreatmentRecord.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}